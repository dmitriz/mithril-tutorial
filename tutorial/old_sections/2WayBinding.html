<section>
	<div class="description">
		<div>
			<h1>2-Way Binding</h1>
			<p>Let's enable the editing of our teachers' names. All we'll need is 2 form fields, and a handy little 
				Mithril function called <code class="language-javascript">m.withAttr()</code>:</p>
		</div>
	</div>
	<div class="code">
		<h3>src/components/Detail.js</h3>
<pre><code class="language-javascript">var m = require("mithril")
var Model = require("../model/Model")
			
module.exports = {
	view: function() {
		return Model.current
	        ? m('.detail'
                , m('label'
                    , 'First Name:'
                    , m('input[type=text][placeholder=First Name]'
                        , {
                            value: Model.current.firstName,
                            oninput: m.withAttr('value', function(newValue){
                                Model.current.firstName = newValue
                            })
                        }
                    )
                )
                , m('label'
                    , 'Last Name:'
                    , m('input[type=text][placeholder=Last Name]'
                        , {
                            value: Model.current.lastName,
                            oninput: m.withAttr('value', function(newValue){
                                Model.current.lastName = newValue
                            })
                        }
                    )
                )
            )
	        : null
	}
}

</code></pre>
	</div>

	<div class="description">
		<div>
			<p>There's some great stuff going on here. We've assigned each input the value of a property on 
				<code class="language-javascript">Model.current</code>, and assigned an event handler for 
				<code class="language-javascript">oninput</code>.</p> 
			<p><code class="language-javascript">m.withAttr</code>takes 2 arguments: the attribute name on the event's 
				target (in this case it's "value"), and a function whose argument is the value of that attribute. So if,
				for instance, our input is a checkbox, we might do this:</p>
			<pre><code class="language-javascript">onclick: m.withAttr("checked", function(newValue){ someBooleanInOurModel = newValue })</code></pre>
		</div>
	</div>
	
	
	<div class="result">
		<iframe src="../minis/2WayBinding.html"></iframe>
	</div>
</section>
